<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>registrar un equipo</title>
    </h:head>

    <h:body>
        
        
        <h:form id="form0">
            <p:panel style="background-image: url(/imagenes/logoeci.jpg);height:850px;border: 0" > 
                <p:layout >
                    <p:layoutUnit position="north">
                        <p:panel header="Datos de usuario" style="height:150px;background-color: transparent;border: 0;">
                           
                            <p:panelGrid columns="2">
                                <h:outputLabel value="id:" />
                                <h:outputText value="#{Equipos.id}"/>
                                <h:outputLabel value="Nombre:" />
                                <h:outputText value="#{Equipos.nombre}"/>
                                <h:outputLabel value="Correo:" />
                                <h:outputText value="#{Equipos.correo}"/>
                            </p:panelGrid>
                            
                        </p:panel>
                    </p:layoutUnit>
                    <p:layoutUnit position="west">
                        <p:panel style="width:200px;border: 0">
                            <h:form>
                                <p:commandButton value="Registrar Equipo En Inventario" rendered="#{loginBean.botonRegistrarEquipoEnInventario}" actionListener="#{Equipos.limpiarPaginaRegistrarUnEquipo()}" ajax="false" immediate="true" update="form0"/>
                            <p:commandButton value="Registrar Una Devolucion" rendered="#{loginBean.botonRegistrarUnaDevolucion}" action="registrarunadevolucion" immediate="true"/>
                            </h:form>
                        </p:panel>
                    </p:layoutUnit>
                    <p:layoutUnit  position="center">
                        <p:panel style="border:0;" >
                            
                            <p:dataTable id="consultaModelo" var="consultaModelo" value="#{Equipos.listaModelos}">
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{consultaModelo.nombre}"/>
                                </p:column>
                                <p:column headerText="Vida">
                                    <h:outputText value="#{consultaModelo.vidaUtilHoras}"/>
                                </p:column>
                                <p:column headerText="Valor">
                                    <h:outputText value="#{consultaModelo.valorComercial}"/>
                                </p:column>
                                <p:column headerText="Seguro">
                                    <h:outputText value="#{consultaModelo.seguro}"/>
                                </p:column>
                                <p:column headerText="Foto">
                                    <h:outputText value="#{consultaModelo.foto}"/>
                                </p:column>
                                <p:column headerText="Clase">
                                    <h:outputText value="#{consultaModelo.clase}"/>
                                </p:column>
                            </p:dataTable>
                            
                            <p:panelGrid columns="3">
                                
                                <h:outputLabel value="Introduzca el nombre del modelo a buscar" />
                                <h:inputText value="#{Equipos.nombreDeModelo}" required="true"/>
                                <p:commandButton value="Buscar" actionListener="#{Equipos.accionBotonBuscarModelo()}" update="form0" />
                                
                            </p:panelGrid>
                            <br/>
                            <br/>
                            <h:form id="form1" rendered="#{Equipos.yaBusqueModelo}">
                            <h:outputText id="value1" value="#{Equipos.textoSalidaModelo}"/>
                            <br/>
                            <p:commandButton value="Crear Equipo" rendered="#{Equipos.elModeloYaExiste}" onclick="PF('crearEquipo').show();"/>
                            <p:commandButton value="Crear Modelo" rendered="#{Equipos.elModeloNoExiste}" onclick="PF('crearModelo').show();"/>
                            </h:form> 
                        </p:panel>       
                    </p:layoutUnit>
                </p:layout>
            </p:panel>
        </h:form>
        
        <h:form id="form2">
            <p:dialog id="crearequipo" header="Crear Equipo" widgetVar="crearEquipo" modal="true" height="450"  resizable="false" closable="true">
            <h:form>
                <h:panelGrid columns="2" cellpadding="5" id="panelGrid1">
                    <h:outputLabel value="Serial: " />
                    <h:inputText value="#{Equipos.serialEquipo}" required="true" id="serialEquipo"/>
                    <h:outputLabel value="Nombre: " />
                    <h:inputText value="#{Equipos.nombreEquipo}" required="true" id="nombreEquipo"/>
                    <h:outputLabel value="Placa: " />
                    <h:inputText value="#{Equipos.placaEquipo}" required="true" id="placaEquipo"/>
                    <h:outputLabel value="Marca: " />
                    <h:inputText value="#{Equipos.marcaEquipo}" required="true" id="marcaEquipo"/>
                    <h:outputLabel value="Descripcion: " />
                    <h:inputTextarea value="#{Equipos.descripcionEquipo}" required="true" id="descripcionEquipo"/>
                    <h:outputLabel value="Estado: " />
                    <h:inputText value="#{Equipos.estadoEquipo}" required="true" id="estadoEquipo"/>
                    <h:outputLabel value="Sub estado: " />
                    <h:inputText value="#{Equipos.subEstadoEquipo}" required="true" id="subEstadoEquipo"/>
                    <h:outputLabel value="Proveedor: " />
                    <h:inputText value="#{Equipos.proveedorEquipo}" required="true" id="proveedorEquipo"/>
                    <h:outputLabel value="Modelo: " />
                    <h:outputLabel value="#{Equipos.nombreDeModelo}"/>
                </h:panelGrid>
                <br/>
                <p:commandButton value="Crear Equipo" actionListener="#{Equipos.mensajeCreacionEquipoExitoso}" process="@this,panelGrid1"/>
            </h:form>
        </p:dialog>
        </h:form>                    
        <p:dialog header="Crear Modelo" modal="true" widgetVar="crearModelo" height="350"  resizable="false" closable="true">
            <h:form enctype="multipart/form-data">              
                <h:panelGrid columns="2" id="panelGrid2" cellpadding="5">
                    <h:outputLabel for="claseModelo"  value="Clase: " />
                    <h:inputText value="#{Equipos.claseModelo}" required="true" id="claseModelo"/>
                    <h:outputLabel value="Vida util en horas: " for="vidaUtilEnHorasModelo"/>
                    <h:inputText value="#{Equipos.vidaUtilEnHorasModelo}" required="true" id="vidaUtilEnHorasModelo"/>
                    <h:outputLabel value="Valor comercial: " for="valorComercialModelo"/>
                    <h:inputText value="#{Equipos.valorComercialModelo}" required="true" id="valorComercialModelo"/>
                    <h:outputLabel value="Esta asegurado?: " for="estaAseguradoModelo" />
                    <p:selectBooleanCheckbox value="#{Equipos.estaAseguradoModelo}" id="estaAseguradoModelo"/>
                    <h:outputLabel value="Imagen: " />
                    <p:fileUpload value="#{Equipos.fotoModelo}" mode="simple" required="true"/>
                </h:panelGrid>
                <br/>
                <p:commandButton value="Crear Modelo" actionListener="#{Equipos.mensajeCreacionModeloExitoso}" process="@this,panelGrid2" update=":form2" ajax="false"/>
            </h:form>
        </p:dialog>
        
        
        <p:dialog modal="true" widgetVar="crearEquipoLuegoDeModelo" height="70" header="Que desea hacer ahora?"  resizable="false" closable="true">
            <h:form>
                <p:growl id="growl" showDetail="true" sticky="true" autoUpdate="true"/>
                <h:panelGrid columns="2" cellpadding="5">
                    <p:commandButton value="Crear Equipo" onclick="PF('crearEquipoLuegoDeModelo').hide();PF('crearEquipo').show()"/>
                    <p:commandButton value="Salir" onclick="PF('crearEquipoLuegoDeModelo').hide();" action="/restricted/usuario"/>
                </h:panelGrid>
            </h:form>
        </p:dialog>
        
        
    </h:body>
</html>