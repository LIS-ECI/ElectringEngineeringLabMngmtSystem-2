<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>registrar un equipo</title>
    </h:head>

    <h:body>
        
        <h:form id="form0">
            <p:panel style="background-image: url(/imagenes/logoeci.jpg);height:#{Equipos.medidaLargo}" > 
                <p:layout >
                    <p:layoutUnit position="north">
                        <p:panel header="Datos de usuario" style="height:150px">
                           
                            <p:panelGrid columns="2">
                                <h:outputLabel value="id:" />
                                <h:outputText value="#{Equipos.id}"/>
                                <h:outputLabel value="Nombre:" />
                                <h:outputText value="#{Equipos.nombre}"/>
                                <h:outputLabel value="Correo:" />
                                <h:outputText value="#{Equipos.correo}"/>
                            </p:panelGrid>
                            
                        </p:panel>
                    </p:layoutUnit>
                    <p:layoutUnit position="west">
                        <p:panel style="width:200px">
                            <h:form>
                            <p:commandButton value="Registrar Equipo En Inventario" rendered="#{loginBean.botonRegistrarEquipoEnInventario}" action="/laboratorista/registrarunequipo"/>
                            <p:commandButton value="Registrar Una Devolucion" rendered="#{loginBean.botonRegistrarUnaDevolucion}" action="/laboratorista/registrarunadevolucion"/>
                            </h:form>
                        </p:panel>
                    </p:layoutUnit>
                    <p:layoutUnit  position="center">
                        <p:panel >
                            
                            <p:dataTable id="consultaModelo" var="consultaModelo" value="#{Equipos.listaModelos}">
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{consultaModelo.nombre}"/>
                                </p:column>
                                <p:column headerText="Vida">
                                    <h:outputText value="#{consultaModelo.vidaUtilHoras}"/>
                                </p:column>
                                <p:column headerText="Valor">
                                    <h:outputText value="#{consultaModelo.valorComercial}"/>
                                </p:column>
                                <p:column headerText="Seguro">
                                    <h:outputText value="#{consultaModelo.seguro}"/>
                                </p:column>
                                <p:column headerText="Foto">
                                    <h:outputText value="#{consultaModelo.foto}"/>
                                </p:column>
                                <p:column headerText="Clase">
                                    <h:outputText value="#{consultaModelo.clase}"/>
                                </p:column>
                            </p:dataTable>
                            
                            <p:panelGrid columns="3">
                                
                                <h:outputLabel value="Introduzca el nombre del modelo a buscar" />
                                <h:inputText value="#{Equipos.nombreDeModelo}" required="true"/>
                                <p:commandButton value="Buscar" actionListener="#{Equipos.accionBotonBuscarModelo()}" update="form0" />
                                
                            </p:panelGrid>
                            <br/>
                            <br/>
                            <h:form id="form1" rendered="#{Equipos.yaBusqueModelo}">
                            <h:outputText id="value1" value="#{Equipos.textoSalidaModelo}"/>
                            <br/>
                            <p:commandButton value="Crear Equipo" rendered="#{Equipos.elModeloYaExiste}" onclick="PF('crearEquipo').show();"/>
                            <p:commandButton value="Crear Modelo" rendered="#{Equipos.elModeloNoExiste}" onclick="PF('crearModelo').show();"/>
                            </h:form> 
                        </p:panel>       
                    </p:layoutUnit>
                </p:layout>
            </p:panel>
        </h:form>
        
        
        <p:dialog header="Crear Equipo" widgetVar="crearEquipo" modal="true" height="450" draggable="false" resizable="false">
            <h:form>
                <h:panelGrid columns="2" cellpadding="5">
                    <h:outputLabel value="Serial: " />
                    <h:inputText value="#{Equipos.serialEquipo}" required="true"/>
                    <h:outputLabel value="Nombre: " />
                    <h:inputText value="#{Equipos.nombreEquipo}" required="true"/>
                    <h:outputLabel value="Placa: " />
                    <h:inputText value="#{Equipos.placaEquipo}" required="true"/>
                    <h:outputLabel value="Marca: " />
                    <h:inputText value="#{Equipos.marcaEquipo}" required="true"/>
                    <h:outputLabel value="Descripcion: " />
                    <h:inputTextarea value="#{Equipos.descripcionEquipo}" required="true"/>
                    <h:outputLabel value="Estado: " />
                    <h:inputText value="#{Equipos.estadoEquipo}" required="true"/>
                    <h:outputLabel value="Sub estado: " />
                    <h:inputText value="#{Equipos.subEstadoEquipo}" required="true"/>
                    <h:outputLabel value="Proveedor: " />
                    <h:inputText value="#{Equipos.proveedorEquipo}" required="true"/>
                    <h:outputLabel value="Modelo: " />
                    <h:outputLabel value="#{Equipos.nombreDeModelo}"/>
                </h:panelGrid>
                <br/>
                <p:commandButton value="Crear Equipo" oncomplete="/restricted/usuario;PF('crearEquipo').hide();" actionListener="#{Equipos.mensajeCreacionEquipoExitoso}"/>
            </h:form>
        </p:dialog>
                            
        <p:dialog header="Crear Modelo" modal="true" widgetVar="crearModelo" height="350" draggable="false" resizable="false">
            <h:form>              
                <p:panelGrid columns="3" id="grid">
                    <h:outputLabel for="claseModelo" value="Clase: " />
                    <h:inputText value="#{Equipos.claseModelo}" required="true" id="claseModelo"/>
                    <p:message for="claseModelo"/>
                    <h:outputLabel value="Vida util en horas: " for="vidaUtilEnHorasModelo"/>
                    <h:inputText value="#{Equipos.vidaUtilEnHorasModelo}" required="true" id="vidaUtilEnHorasModelo"/>
                    <p:message for="vidaUtilEnHorasModelo"/>
                    <h:outputLabel value="Valor comercial: " for="valorComercialModelo"/>
                    <h:inputText value="#{Equipos.valorComercialModelo}" required="true" id="valorComercialModelo"/>
                    <p:message for="valorComercialModelo"/>
                    <h:outputLabel value="Esta asegurado?: " for="estaAseguradoModelo" />
                    <p:selectBooleanCheckbox value="#{Equipos.estaAseguradoModelo}" required="true" id="estaAseguradoModelo"/>
                    <p:message for="estaAseguradoModelo"/>
                    <h:outputLabel value="Imagen: " />
                    <p:selectBooleanCheckbox />
                    <br/>
                    <p:commandButton value="Crear Modelo"  oncomplete="PF('crearModelo').hide();PF('crearEquipoLuegoDeModelo').show();" actionListener="#{Equipos.mensajeCreacionModeloExitoso}" update="grid"/>
                    
                </p:panelGrid>                
            
            </h:form>
        </p:dialog>
        
        
        <p:dialog modal="true" widgetVar="crearEquipoLuegoDeModelo" height="70" header="Que desea hacer ahora?" draggable="false" resizable="false">
            <h:form>
                <p:growl id="growl" showDetail="true" sticky="true" autoUpdate="true"/>
                <h:panelGrid columns="2" cellpadding="5">
                    <p:commandButton value="Crear Equipo" onclick="PF('crearEquipoLuegoDeModelo').hide();PF('crearEquipo').show()"/>
                    <p:commandButton value="Salir" oncomplete="PF('crearEquipoLuegoDeModelo').hide();" action="/restricted/usuario"/>
                </h:panelGrid>
            </h:form>
        </p:dialog>
        
        
    </h:body>
</html>